
Vtiger_EditFieldByModal_Js("Assets_EditFieldByModal_Js",{},{registerInvoicesTabFromAcocunt:function(){var c=this;var b=this.getForm();var a=b.find(".relatedRecord");if(!a.length){return false}var e={module:b.find(".relatedModuleBasic").val(),view:"Detail",mode:"showRelatedList",relatedModule:b.find(".relatedModule").val(),limit:"no_limit",record:a.val()};var d=jQuery.progressIndicator({position:"replace",blockInfo:{enabled:true,elementToBlock:b.find(".relatedRecordsContents")}});AppConnector.request(e).then(function(h){h=jQuery(h);h.find(".relatedContents .relationDelete").remove();var f=h.find("table .listViewEntries");var g=h.find(".searchField");if(g.length){g.closest("tr").remove()}if(f.length==0){b.find(".relatedRecordsContents .message").removeClass("hide");d.progressIndicator({mode:"hide"});return}else{if(f>5){app.showScrollBar(b.find(".relatedContents"),{height:"250px"})}}b.find(".relatedRecordsContents").append(h.find(".relatedContents").append("<br>"));b.on("click",".relatedContents .listViewEntries td",function(j){var i=jQuery(j.target);var k=i.closest("tr");var l=k.next();if(l.hasClass("listViewInventoryEntries")&&!i.closest("div").hasClass("actions")&&!i.is("a")&&!i.is("input")){l.toggleClass("hide")}});d.progressIndicator({mode:"hide"})},function(f){})},registerEvents:function(){this._super();this.registerInvoicesTabFromAcocunt()}});