
Settings_Vtiger_List_Js("Settings_TreesManager_List_Js",{triggerCreate:function(a){var b=jQuery("#moduleFilter").val();if(b.length>0){a+="&source_module="+b}window.location.href=a}},{DeleteRecord:function(c){var b=this;var a=app.vtranslate("LBL_DELETE_CONFIRMATION");Vtiger_Helper_Js.showConfirmationBox({message:a}).then(function(d){AppConnector.request(c+"&ajaxDelete=true").then(function(e){if(e.success==true){var f={text:app.vtranslate("JS_TREE_DELETED_SUCCESSFULLY")};Settings_Vtiger_Index_Js.showMessage(f);jQuery("#recordsCount").val("");jQuery("#totalPageCount").text("");b.getListViewRecords().then(function(){b.updatePagination()})}else{Vtiger_Helper_Js.showPnotify(e.error.message)}})},function(d,e){})},registerFilterChangeEvent:function(){var a=this;jQuery("#moduleFilter").on("change",function(b){jQuery("#pageNumber").val("1");jQuery("#pageToJump").val("1");jQuery("#orderBy").val("");jQuery("#sortOrder").val("");var c={module:app.getModuleName(),parent:app.getParentModuleName(),sourceModule:jQuery(b.currentTarget).val()};jQuery("#recordsCount").val("");jQuery("#totalPageCount").text("");a.getListViewRecords(c).then(function(d){a.updatePagination()})})},loadContents:function(b){var a=jQuery.Deferred();AppConnector.requestPjax(b).then(function(c){jQuery(".contentsDiv").html(c);a.resolve(c)},function(c,d){a.reject()});return a.promise()},registerEvents:function(){this._super();this.registerFilterChangeEvent()}});