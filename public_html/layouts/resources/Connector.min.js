
var AppConnector={requestPjax:function(a){return AppConnector._request(a,true)},request:function(a,b){return AppConnector._request(a,false,b)},_request:function(e,m,a){var i=jQuery.Deferred();if(typeof a=="undefined"){a=false}if(typeof m=="undefined"){m=false}if(typeof e=="undefined"){e={}}if(typeof e.data=="undefined"||a){if(typeof e=="string"){var k=e;var h=k.indexOf("?");if(h!==-1){var c=k.substr(0,h+1);k=k.replace(c,"")}}else{k=jQuery.extend({},e)}e={};e.data=k}if(typeof e.type=="undefined"||a){e.type="POST"}if(typeof e.jsonp=="undefined"||a){e.jsonp=false}if(typeof e.dataType=="undefined"||a){var g=e.data;e.dataType="json";if(g.hasOwnProperty("view")){e.dataType="html"}else{if(typeof g=="string"&&g.indexOf("&view=")!==-1){e.dataType="html"}}if(typeof e.url!="undefined"&&e.url.indexOf("&view=")!==-1){e.dataType="html"}}if(typeof e.url!="undefined"&&e.url.indexOf("?")!==-1){var f=e.url.split("?");var b=f[1];e.url=f[0];var d=b.split("&");for(var h=0;h<d.length;h++){var o=d[h];var n=o.split("=");e.data[n[0]]=n[1]}}if(typeof e.url=="undefined"||e.url.length<=0){e.url="index.php"}var p=function(s,q,r){if(s!=null&&typeof s=="object"&&s.error){app.errorLog(s.error)}i.resolve(s)};var l=function(q,s,r){app.errorLog(q,s,r);i.reject(s,r)};if(m){if(typeof e.container=="undefined"){e.container="#pjaxContainer"}e.type="GET";var j=jQuery("#pjaxContainer");if(e.container=="#pjaxContainer"){j.html("")}jQuery(document).on("pjax:success",function(s,t,q,r){j.html("");p(t,q,r)});jQuery(document).on("pjax:error",function(r,q,t,s){j.html("");l(q,t,s)});jQuery.pjax(e)}else{e.success=p;e.error=l;jQuery.ajax(e)}return i.promise()},requestForm:function(b,d){var a="<form action="+b+' method="POST">';if(typeof csrfMagicName!=="undefined"){a+='<input type="hidden" name="'+csrfMagicName+"\"  value='"+csrfMagicToken+"'>"}if(typeof d!=="undefined"){jQuery.each(d,function(e,f){a+='<input type="hidden" name="'+e+"\"  value='"+f+"'>"})}a+="</form>";var c=new jQuery(a);c.appendTo("body").submit()},};